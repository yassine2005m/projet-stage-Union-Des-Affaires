<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Réservation d'espace | Union des Affaires</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #1a237e;
            --secondary: #0d47a1;
            --accent: #00bcd4;
            --light: #f5f5f5;
            --dark: #333;
            --white: #fff;
            --border: #e0e0e0;
            --shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            margin: 0;
            padding: 0;
            color: var(--dark);
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* Header */
        .top-bar {
            background: var(--primary);
            color: var(--white);
            padding: 10px 0;
            font-size: 14px;
        }
        
        .top-bar .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .help-text {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .help-text i {
            color: var(--accent);
        }
        
        .logo {
            height: 60px;
            display: flex;
            align-items: center;
        }
        
        .logo img {
            height: 100%;
        }
        
        /* Main Content */
        .booking-container {
            padding: 40px 0;
        }
        
        .booking-steps {
            display: flex;
            margin-bottom: 30px;
            position: relative;
        }
        
        .booking-steps:before {
            content: '';
            position: absolute;
            top: 15px;
            left: 0;
            right: 0;
            height: 2px;
            background: var(--border);
            z-index: 1;
        }
        
        .step {
            flex: 1;
            text-align: center;
            position: relative;
            z-index: 2;
        }
        
        .step-number {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: var(--border);
            color: var(--dark);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 8px;
            font-weight: 600;
        }
        
        .step.active .step-number {
            background: var(--primary);
            color: var(--white);
        }
        
        .step-label {
            font-size: 14px;
            color: var(--dark);
        }
        
        .step.active .step-label {
            font-weight: 600;
            color: var(--primary);
        }
        
        /* Form Sections */
        .form-section {
            background: var(--white);
            border-radius: 8px;
            box-shadow: var(--shadow);
            padding: 30px;
            margin-bottom: 30px;
            border: 1px solid var(--border);
        }
        
        .section-title {
            color: var(--primary);
            margin-top: 0;
            margin-bottom: 20px;
            font-size: 1.5rem;
        }
        
        /* Space Selection */
        .space-options {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
        }
        
        .space-card {
            border: 1px solid var(--border);
            border-radius: 8px;
            overflow: hidden;
            transition: all 0.3s;
            cursor: pointer;
        }
        
        .space-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow);
        }
        
        .space-card.selected {
            border-color: var(--primary);
            box-shadow: 0 0 0 2px var(--primary);
        }
        
        .space-image {
            height: 180px;
            overflow: hidden;
        }
        
        .space-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .space-details {
            padding: 15px;
        }
        
        .space-title {
            margin: 0 0 10px;
            color: var(--primary);
        }
        
        .space-features {
            list-style: none;
            padding: 0;
            margin: 0 0 15px;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .space-features li {
            display: flex;
            align-items: center;
            font-size: 14px;
            gap: 5px;
        }
        
        .space-features i {
            color: var(--accent);
        }
        
        .space-price {
            font-weight: 600;
            color: var(--primary);
            font-size: 1.2rem;
        }
        
        /* Contact Form */
        .form-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }
        
        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid var(--border);
            border-radius: 6px;
            font-family: inherit;
            font-size: 16px;
        }
        
        textarea.form-control {
            min-height: 120px;
            resize: vertical;
        }
        
        /* Contact Method */
        .contact-methods {
            display: flex;
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .contact-method {
            flex: 1;
        }
        
        .contact-method input {
            display: none;
        }
        
        .contact-method label {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 15px;
            border: 1px solid var(--border);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }
        
        .contact-method input:checked + label {
            border-color: var(--primary);
            background: rgba(26, 35, 126, 0.05);
        }
        
        .contact-method i {
            font-size: 24px;
            margin-bottom: 10px;
            color: var(--primary);
        }
        
        /* Buttons */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 12px 24px;
            border-radius: 6px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
            font-size: 16px;
            gap: 8px;
        }
        
        .btn-primary {
            background: var(--primary);
            color: var(--white);
        }
        
        .btn-primary:hover {
            background: var(--secondary);
        }
        
        .btn-outline {
            background: transparent;
            border: 1px solid var(--primary);
            color: var(--primary);
        }
        
        .btn-outline:hover {
            background: rgba(26, 35, 126, 0.05);
        }
        
        .action-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        /* Cible l'image à l'intérieur de .space-image */

        .hidden {
    display: none;
}

        /* Responsive */
        @media (max-width: 768px) {
            .form-grid {
                grid-template-columns: 1fr;
            }
            
            .space-options {
                grid-template-columns: 1fr;
            }
            
            .contact-methods {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <!-- Top Bar with Help -->
    <div class="top-bar">
        <div class="container">
            <div class="help-text">
                <i class="fas fa-question-circle"></i>
                <span>Besoin d'aide pour réserver ? Appelez-nous : <strong>+212 600-800747</strong></span>
            </div>
        </div>
    </div>
    
    <!-- Header with Logo -->
    <header class="container">
        <div class="logo">
            <img src="union des affaires logo de yassine.png" alt="Union des Affaires">
        </div>
    </header>
    
    <!-- Main Booking Container -->
    <main class="container booking-container">
        <!-- Booking Steps Indicator -->
        <div class="booking-steps">
            <div class="step active">
                <div class="step-number">1</div>
                <div class="step-label">Choisir un espace</div>
            </div>
            <div class="step">
                <div class="step-number">2</div>
                <div class="step-label">Vos coordonnées</div>
            </div>
            <div class="step">
                <div class="step-number">3</div>
                <div class="step-label">Confirmation</div>
            </div>
        </div>
        
        <!-- Step 1: Space Selection -->
        <div class="form-section" id="step1">
            <h2 class="section-title">Choisissez votre espace</h2>
            
            <div class="space-options">
                <!-- Bureau Privé -->
                <div class="space-card" data-space="private-office">
                    <div class="space-image">
                        <img src="WhatsApp Image 2025-05-07 à 17.08.12_d7efc962.jpg" alt="Bureau Privé">
                    </div>
                    <div class="space-details">
                        <h3 class="space-title">Bureau Privé</h3>
                        <ul class="space-features">
                            <li><i class="fas fa-user"></i> 1-2 personnes</li>
                            <li><i class="fas fa-ruler-combined"></i> 15-20m²</li>
                            <li><i class="fas fa-key"></i> Accès 24/7</li>
                        </ul>
                        <div class="space-price">4,000 MAD/mois</div>
                    </div>
                </div>
                
                <!-- Espace Coworking -->
                <div class="space-card" data-space="coworking">
                    <div class="space-image">
                        <img src="WhatsApp Image 2025-05-07 à 17.11.05_a700ff2d.jpg" alt="Espace Coworking">
                    </div>
                    <div class="space-details">
                        <h3 class="space-title">Espace Coworking</h3>
                        <ul class="space-features">
                            <li><i class="fas fa-users"></i> Poste dédié</li>
                            <li><i class="fas fa-wifi"></i> WiFi haut débit</li>
                            <li><i class="fas fa-coffee"></i> Café gratuit</li>
                        </ul>
                        <div class="space-price">2,500 MAD/mois</div>
                    </div>
                </div>
                
                <!-- Salle de Réunion -->
                <div class="space-card" data-space="meeting-room">
                    <div class="space-image">
                        <img src="WhatsApp Image 2025-05-07 à 17.08.09_4640530b.jpg" alt="Salle de Réunion">
                    </div>
                    <div class="space-details">
                        <h3 class="space-title">Salle de Réunion</h3>
                        <ul class="space-features">
                            <li><i class="fas fa-users"></i> 4-8 personnes</li>
                            <li><i class="fas fa-tv"></i> Écran LCD</li>
                            <li><i class="fas fa-video"></i> Visioconférence</li>
                        </ul>
                        <div class="space-price">300 MAD/heure</div>
                    </div>
                </div>
            </div>
            <div class="space-card" data-space="meeting-room">
                <div class="space-image">
                    <img src="WhatsApp Image 2025-05-07 à 17.08.08_d93d0f3a.jpg" alt="Bureau Personnalisé">
                </div>
                <div class="space-details">
                    <h3 class="space-title">Bureau Personnalisé</h3>
                    <ul class="space-features">
                        <li><i class="fas fa-users"></i> 1-2 personnes</li>
                        <li><i class="fas fa-tv"></i> Écran LCD</li>
                    </ul>
                    <div class="space-price">3000 MAD/mois</div>
                </div>
            </div>
        </div>
            
            <div class="action-buttons">
                <button class="btn btn-outline" disabled>
                    <i class="fas fa-arrow-left"></i> Précédent
                </button>
                <button class="btn btn-primary" id="nextToStep2">
                    Suivant <i class="fas fa-arrow-right"></i>
                </button>
            </div>
        </div>
        
        <!-- Step 2: Contact Information -->
        <div class="form-section hidden" id="step2">
            <h2 class="section-title">Vos coordonnées</h2>
            
            <div class="form-grid">
                <div class="form-group">

                    <label for="firstName">Prénom *</label>
                    <input type="text" id="firstName"  class="form-control" required>
                </div>
                
                <div class="form-group">
                    <label for="lastName">Nom *</label>
                    <input type="text" id="lastName"  class="form-control" required>
                </div>
                
                <div class="form-group">
                    <label for="email">Email *</label>
                    <input type="email" id="email"  class="form-control" required>
                </div>
                
                <div class="form-group">
                    <label for="phone">Téléphone *</label>
                    <input type="tel" id="phone" class="form-control" required>
                </div>
              
                
                <div class="form-group">
                    <label for="date">Date de réservation *</label>
                    <input type="date" id="date" class="form-control" required>
                </div>
            </div>
            
            <div class="form-group">
                <label for="message">Message supplémentaire (optionnel)</label>
                <textarea id="message" class="form-control"></textarea>
            </div>
                <div class="contact-method">
                    <input type="radio" id="contact-whatsapp" name="contactMethod" value="whatsapp">
                    <label for="contact-whatsapp">
                        <i class="fab fa-whatsapp"></i>
                        <span>Par WhatsApp</span>
                    </label>
                </div>
            </div>
            
            <div class="action-buttons">
                <button class="btn btn-outline" id="backToStep1">
                    <i class="fas fa-arrow-left"></i> Précédent
                </button>
                <button class="btn btn-primary" id="nextToStep3">
                    Envoyer ma demande <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
        
        <!-- Step 3: Confirmation -->
        <div class="form-section hidden" id="step3">
            <div style="text-align: center; padding: 40px 0;">
                <div style="font-size: 60px; color: #4CAF50; margin-bottom: 20px;">
                    <i class="fas fa-check-circle"></i>
                </div>
                <h2 class="section-title">Demande envoyée avec succès !</h2>
                <p>Nous avons bien reçu votre demande de réservation.</p>
                <p>Notre équipe vous contactera dans les plus brefs délais par <strong id="contact-method-display">email</strong> pour confirmer votre réservation.</p>
                
                <div style="background: #f5f5f5; padding: 20px; border-radius: 8px; margin-top: 30px; text-align: left;">
                    <h3 style="margin-top: 0;">Récapitulatif de votre demande</h3>
                    <p><strong>Espace :</strong> <span id="summary-space">Bureau Privé</span></p>
                    <p><strong>Date :</strong> <span id="summary-date">15 mai 2025</span></p>
                    <p><strong>Nom :</strong> <span id="summary-name">Prénom Nom</span></p>
                    <p><strong>Contact :</strong> <span id="summary-contact">email@exemple.com</span></p>
                </div>
            </div>
            
            <div class="action-buttons" style="justify-content: center;">
                <button class="btn btn-primary" id="finishBooking">
                    <i class="fas fa-home"></i> Retour à l'accueil
                </button>
            </div>
        </div>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Navigation entre les étapes
            const nextToStep2 = document.getElementById('nextToStep2');
            const backToStep1 = document.getElementById('backToStep1');
            const nextToStep3 = document.getElementById('nextToStep3');
            const finishBooking = document.getElementById('finishBooking');
            
            // Éléments des étapes
            const step1 = document.getElementById('step1');
            const step2 = document.getElementById('step2');
            const step3 = document.getElementById('step3');
            
            // Éléments de résumé
            const summarySpace = document.getElementById('summary-space');
            const summaryDate = document.getElementById('summary-date');
            const summaryName = document.getElementById('summary-name');
            const summaryContact = document.getElementById('summary-contact');
            const contactMethodDisplay = document.getElementById('contact-method-display');
            
            // Sélection d'espace
            const spaceCards = document.querySelectorAll('.space-card');
            let selectedSpace = null;
            
            spaceCards.forEach(card => {
                card.addEventListener('click', function() {
                    // Retirer la sélection précédente
                    spaceCards.forEach(c => c.classList.remove('selected'));
                    
                    // Ajouter la sélection à la carte cliquée
                    this.classList.add('selected');
                    selectedSpace = this.dataset.space;
                });
            });
            
            // Gestion des étapes
            function goToStep(step) {
                // Masquer toutes les étapes
                step1.classList.add('hidden');
                step2.classList.add('hidden');
                step3.classList.add('hidden');
                
                // Afficher l'étape sélectionnée
                if (step === 1) {
                    step1.classList.remove('hidden');
                } else if (step === 2) {
                    // Validation de l'étape 1
                    if (!selectedSpace) {
                        alert('Veuillez sélectionner un espace');
                        return;
                    }
                    step2.classList.remove('hidden');
                } else if (step === 3) {
                    // Validation de l'étape 2
                    const firstName = document.getElementById('firstName').value;
                    const lastName = document.getElementById('lastName').value;
                    const email = document.getElementById('email').value;
                    const phone = document.getElementById('phone').value;
                    const date = document.getElementById('date').value;
                    
                    if (!firstName || !lastName || !email || !phone || !date) {
                        alert('Veuillez remplir tous les champs obligatoires');
                        return;
                    }
                    
                    // Mettre à jour le résumé
                    summarySpace.textContent = document.querySelector('.space-card.selected .space-title').textContent;
                    summaryDate.textContent = new Date(date).toLocaleDateString('fr-FR');
                    summaryName.textContent = `${firstName} ${lastName}`;
                    
                    // Déterminer la méthode de contact
                    const contactMethod = document.querySelector('input[name="contactMethod"]:checked').value;
                    if (contactMethod === 'email') {
                        summaryContact.textContent = email;
                        contactMethodDisplay.textContent = 'email';
                    } else {
                        summaryContact.textContent = phone;
                        contactMethodDisplay.textContent = 'WhatsApp';
                    }
                    
                    step3.classList.remove('hidden');
                    
                    // Ici vous pourriez envoyer les données au serveur
                    // ou générer un lien WhatsApp/mail comme ci-dessous
                    
                    // Exemple pour WhatsApp :
                    if (contactMethod === 'whatsapp') {
                        const message = `Bonjour, je souhaite réserver:\n\n` +
                                       `Espace: ${summarySpace.textContent}\n` +
                                       `Date: ${summaryDate.textContent}\n` +
                                       `Nom: ${summaryName.textContent}\n` +
                                       `Téléphone: ${phone}\n` +
                                       `Message: ${document.getElementById('message').value || 'Aucun'}`;
                        
                        const whatsappUrl = `https://wa.me/212771503357?text=${encodeURIComponent(message)}`;
                        console.log('Lien WhatsApp:', whatsappUrl);
                        // window.open(whatsappUrl, '_blank'); // Décommenter pour ouvrir WhatsApp
                    }
                }
                
                // Mettre à jour les indicateurs d'étape
                document.querySelectorAll('.step').forEach(stepEl => {
                    stepEl.classList.remove('active');
                });
                document.querySelector(`.step:nth-child(${step})`).classList.add('active');
            }
            
            // Événements des boutons
            nextToStep2.addEventListener('click', () => goToStep(2));
            backToStep1.addEventListener('click', () => goToStep(1));
            nextToStep3.addEventListener('click', () => goToStep(3));
            finishBooking.addEventListener('click', () => {
                window.location.href = 'index.html';
            });
        });
       
    const step1 = document.getElementById('step1');
    const step2 = document.getElementById('step2');
    const step3 = document.getElementById('step3');

    const nextToStep2 = document.getElementById('nextToStep2');
    const nextToStep3 = document.getElementById('nextToStep3');
    const backToStep1 = document.getElementById('backToStep1');

    const spaceCards = document.querySelectorAll('.space-card');
    let selectedSpace = "";

    spaceCards.forEach(card => {
        card.addEventListener('click', () => {
            spaceCards.forEach(c => c.classList.remove('selected'));
            card.classList.add('selected');
            selectedSpace = card.querySelector('.space-title').textContent;
        });
    });

    nextToStep2.addEventListener('click', () => {
        if (!selectedSpace) {
            alert("Veuillez choisir un espace.");
            return;
        }
        step1.classList.add('hidden');
        step2.classList.remove('hidden');
    });

    backToStep1.addEventListener('click', () => {
        step2.classList.add('hidden');
        step1.classList.remove('hidden');
    });

    nextToStep3.addEventListener('click', () => {
        // Récupérer les données du formulaire
        const firstName = document.getElementById('firstName').value.trim();
        const lastName = document.getElementById('lastName').value.trim();
        const email = document.getElementById('email').value.trim();
        const phone = document.getElementById('phone').value.trim();
        const company = document.getElementById('company').value.trim();
        const date = document.getElementById('date').value.trim();
        const message = document.getElementById('message').value.trim();
        const contactMethod = document.querySelector('input[name="contactMethod"]:checked').value;

        if (!firstName || !lastName || !email || !phone || !date) {
            alert("Veuillez remplir tous les champs obligatoires.");
            return;
        }

        // Créer le message
        const fullMessage = `Nouvelle réservation Union des Affaires:\n\n👤 Nom: ${firstName} ${lastName}\n📧 Email: ${email}\n📱 Téléphone: ${phone}\n🏢 Entreprise: ${company || "Non précisé"}\n📅 Date: ${date}\n📍 Espace: ${selectedSpace}\n📝 Message: ${message || "Non précisé"}\n📬 Contact via: ${contactMethod}`;

        if (contactMethod === 'whatsapp') {
            const phoneNumber = "212771503357"; // Ton numéro WhatsApp sans "+"
            const encodedMessage = encodeURIComponent(fullMessage);
            window.open(`https://wa.me/${phoneNumber}?text=${encodedMessage}`, '_blank');
        } else {
            alert("Votre demande a été envoyée par email. (Simulation)");
        }

        document.getElementById('contact-method-display').textContent = contactMethod === "whatsapp" ? "WhatsApp" : "email";
        step2.classList.add('hidden');
        step3.classList.remove('hidden');
    });
    document.getElementById('bookingForm').addEventListener('submit', function(event) {
    event.preventDefault(); // Empêche l'envoi par défaut

    const selectedSpace = document.getElementById('space').value;
    document.getElementById('spaceInput').value = selectedSpace;

    // Envoie du formulaire avec AJAX (si besoin de modification)
    fetch('send_booking.php', {
        method: 'POST',
        body: new FormData(this)
    }).then(response => response.text())
      .then(data => {
          if (data === "success") {
              alert('Réservation envoyée avec succès.');
          } else {
              alert('Erreur lors de l\'envoi de la réservation.');
          }
      }).catch(error => alert('Erreur : ' + error));
});



    </script>
</body>
</html>